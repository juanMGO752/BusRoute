(()=>{"use strict";const e=new class{constructor(){this.URI="http://localhost:3000/api/routes"}async getRoute(){const e=await fetch(this.URI);return await e.json()}async postRoute(e){const t=await fetch(this.URI,{method:"POST",body:e});await t.json()}async deleteRoute(e){const t=await fetch(`${this.URI}/${e}`,{headers:{"Content-Type":"application/json"},method:"DELETE"}),n=await t.json();console.log(n)}},t=class{async renderRoutes(){const t=await e.getRoute(),n=document.getElementById("despliegue-rutas"),o=document.getElementById("input-autocom-start"),a=document.getElementById("input-autocom-end");n.innerHTML="";const s=document.createElement("div");s.className="route-buttons-container container",t.forEach((e=>{if(e.collectionKeyPoints.includes(o.value)&&e.collectionKeyPoints.includes(a.value)){const t=document.createElement("div");t.className="container-button",t.innerHTML=`\n                    <a href="#" class="view" _id="${e._id}">${e.company} (${e.tittleRoute})</a>\n                    `,s.appendChild(t)}})),n.appendChild(s),this.clearRouterForm()}async renderRoutesMaps(t){const n=await e.getRoute(),o=document.getElementById("route-maps"),a=n.find((e=>e._id===t));o.innerHTML="";const s=document.createElement("div"),c=document.createElement("div"),i=document.createElement("ul"),r=document.createElement("div");i.className="list-rute",s.className="container-title-point",s.innerHTML=`<h2 class="title-route-map">${a.tittleRoute}</h2>`,r.className="container-img-map",r.innerHTML=`${a.iframe}`,i.innerHTML=`<h3>${a.tittleRoute}</h3>`,c.className="container-map container",a.collectionKeyPoints.forEach((e=>{const t=document.createElement("li");t.innerHTML=`\n            ${e}\n            `,i.appendChild(t)})),s.appendChild(i),c.appendChild(s),c.appendChild(r),o.appendChild(c)}async autocompletar(t){return(await e.getRoute()).find((e=>"ListToRouteStart"===e.tittleRoute)).collectionRouteStart.filter((e=>e.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())))}clearSuggestions(){let e=document.getElementById("routes-end");e.innerHTML="",e=document.getElementById("routes-start"),e.innerHTML=""}clearRouterForm(){document.getElementById("route-form").reset()}renderMessages(){}};document.addEventListener("DOMContentLoaded",(()=>{new t})),document.getElementById("route-form").addEventListener("submit",(e=>{const n=new t;n.renderRoutes(),e.preventDefault(),n.clearSuggestions()})),document.getElementById("despliegue-rutas").addEventListener("click",(e=>{const n=new t;e.target.classList.contains("view")&&n.renderRoutesMaps(e.target.getAttribute("_id"))})),document.getElementById("input-autocom-start").addEventListener("input",(({target:e})=>{const n=e.value,o=new t,a=document.getElementById("routes-start");a.innerHTML="",n.length&&o.autocompletar(n).then((e=>e.forEach((e=>{const t=document.createElement("li");t.className="suggestions-start",t.innerHTML=`${e}`,a.appendChild(t)}))))})),document.getElementById("input-autocom-end").addEventListener("input",(({target:e})=>{const n=e.value,o=new t,a=document.getElementById("routes-end");a.innerHTML="",n.length&&o.autocompletar(n).then((e=>e.forEach((e=>{const t=document.createElement("li");t.className="suggestions-end",t.innerHTML=`${e}`,a.appendChild(t)})))),a.innerHTML=""})),document.getElementById("route-form").addEventListener("click",(e=>{const t=document.getElementById("routes-end"),n=document.getElementById("routes-start"),o=document.getElementById("input-autocom-start"),a=document.getElementById("input-autocom-end");e.target.classList.contains("suggestions-start")?(o.value=e.target.innerHTML,n.innerHTML=""):e.target.classList.contains("suggestions-end")&&(a.value=e.target.innerHTML,t.innerHTML="")}))})();
//# sourceMappingURL=bundle.js.map